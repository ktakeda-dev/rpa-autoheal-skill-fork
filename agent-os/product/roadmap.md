# Product Roadmap

## 開発フェーズ

### Phase 1: Foundation (MVP) - 完了

1. [x] **YAMLスキーマ定義** - ワークフロー定義のためのJSON Schemaを設計。アクション種別、セレクタ指定、条件分岐(when句)、変数補間などの基本構造を定義 `S`

2. [x] **YAMLパーサー実装** - YAMLファイルを読み込み、内部データ構造に変換するパーサーを実装。AJVによるスキーマバリデーションとエラーメッセージを含む `S`

3. [x] **Playwrightコード生成エンジン** - パース済みYAMLからPlaywright/JavaScriptコードを生成するエンジンを実装。決定論的で再現可能なコードを出力する `M`

4. [x] **基本実行ランタイム** - 生成されたPlaywrightコードを実行し、結果を収集するランタイム(run-workflow.js)を実装。ステップごとの成功/失敗を追跡する `M`

5. [ ] **Playwright MCP連携** - 失敗検知時にPlaywright MCPを呼び出し、ページスナップショットと状態情報を取得する仕組みを実装 `S`

6. [ ] **AIリカバリ基盤** - 取得したスナップショットをClaudeに渡し、リカバリアクションを生成・実行する基盤を実装。タスク完遂まで継続する `M`

### Phase 2: Intelligence

7. [ ] **自然言語からYAML生成** - 日本語/英語の自然言語指示からYAMLワークフローを自動生成する機能を実装。Skillを参照してドメイン知識を活用する `M`

8. [ ] **失敗分析エンジン** - 失敗時のスナップショット、エラーログ、実行コンテキストを分析し、根本原因を特定するエンジンを実装 `M`

9. [ ] **失敗レポート生成** - 分析結果を人間が読める形式でレポート出力。失敗箇所、原因、推奨対策を含む `S`

10. [ ] **YAML自動修正** - 失敗分析結果に基づき、YAMLワークフローを自動修正する機能を実装。修正前後の差分を明示する `M`

11. [ ] **Skill管理機能** - SKILL.mdの作成・更新・参照を管理する機能を実装。ドメイン知識の蓄積と活用を支援する `S`

### Phase 3: Production Ready

12. [ ] **実行ログ記録** - 全実行の詳細ログを記録。ステップごとの所要時間、スクリーンショット、エラー情報を保存する `S`

13. [x] **リトライ戦略設定** - ステップごとのリトライ回数、待機時間、startFromStepによる再開機能を実装済み `S`

14. [ ] **環境変数・シークレット管理** - 認証情報やAPIキーなどの機密情報を安全に管理し、YAMLから参照できる仕組みを実装 `S`

15. [ ] **CLIインターフェース強化** - ワークフローの実行、検証、デバッグを行うCLIツールを拡充。バッチ実行(CSV入力)は実装済み `M`

16. [ ] **エラーハンドリング強化** - タイムアウト、ネットワークエラー、予期しない画面状態など、各種エラーパターンへの対応を強化 `M`

### Phase 4: Enterprise

17. [ ] **並列タスク実行** - 複数のワークフローを並列で実行し、リソースを効率的に活用する機能を実装 `L`

18. [ ] **実行スケジューリング** - 定期実行、トリガー実行などのスケジューリング機能を実装 `M`

19. [ ] **選択的AI実行モード** - ステップごとにRPA実行(高速・決定論的)とAI実行(柔軟・適応的)を選択できる機能を実装 `L`

20. [ ] **監査ログ・コンプライアンス** - 実行履歴の長期保存、変更追跡、監査対応機能を実装 `M`

21. [ ] **デスクトップアプリ連携** - ブラウザ以外のデスクトップアプリケーション操作への拡張 `XL`

---

> Notes
> - Phase 1 の項目 1-4 は実装完了、項目 5-6 (AI連携) は次のマイルストーン
> - 各項目は技術的依存関係に基づいて順序付け
> - 各項目はフロントエンド + バックエンドを含む完結した機能単位
> - Effort: `XS`=1日, `S`=2-3日, `M`=1週間, `L`=2週間, `XL`=3週間以上
